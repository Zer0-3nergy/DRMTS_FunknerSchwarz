// -------------------------------------------------------------
// 
// File Name: F:\MyGit_Folder\DRMTS_FunknerSchwarz\behav\Verilog\dsm_l2_sim_deci_cic_HDLgeneration\dsSection.v
// Created: 2026-01-30 10:39:16
// 
// Generated by MATLAB 25.2, HDL Coder 25.2, and Simulink 25.2
// 
// -------------------------------------------------------------


// -------------------------------------------------------------
// 
// Module: dsSection
// Source Path: dsm_l2_sim_deci_cic_HDLgeneration/DECIMATOR/CICDecimation/dsSection
// Hierarchy Level: 2
// Model version: 17.87
// 
// -------------------------------------------------------------

`timescale 1 ns / 1 ns

module dsSection
          (clk,
           reset,
           enb,
           integOut_re,
           integOut_im,
           validInreg,
           downsampleVal,
           i_rstout,
           dsOut_re,
           dsOut_im,
           ds_vout);


  input   clk;
  input   reset;
  input   enb;
  input   signed [22:0] integOut_re;  // sfix23
  input   signed [22:0] integOut_im;  // sfix23
  input   validInreg;
  input   [11:0] downsampleVal;  // ufix12
  input   i_rstout;
  output  signed [22:0] dsOut_re;  // sfix23
  output  signed [22:0] dsOut_im;  // sfix23
  output  ds_vout;


  reg [8:0] downSampler_count;  // ufix9
  reg signed [22:0] downSampler_dataOutReg_re;  // sfix23
  reg signed [22:0] downSampler_dataOutReg_im;  // sfix23
  reg  downSampler_validOutReg;
  wire [8:0] downSampler_count_next;  // ufix9
  wire signed [22:0] downSampler_dataOutReg_re_next;  // sfix23
  wire signed [22:0] downSampler_dataOutReg_im_next;  // sfix23
  wire downSampler_validOutReg_next;
  wire [11:0] downSampler_1;  // ufix12


  always @(posedge clk or posedge reset)
    begin : downSampler_process
      if (reset == 1'b1) begin
        downSampler_count <= 9'b000000000;
        downSampler_dataOutReg_re <= 23'sb00000000000000000000000;
        downSampler_dataOutReg_im <= 23'sb00000000000000000000000;
        downSampler_validOutReg <= 1'b0;
      end
      else begin
        if (enb) begin
          downSampler_count <= downSampler_count_next;
          downSampler_dataOutReg_re <= downSampler_dataOutReg_re_next;
          downSampler_dataOutReg_im <= downSampler_dataOutReg_im_next;
          downSampler_validOutReg <= downSampler_validOutReg_next;
        end
      end
    end

  assign downSampler_dataOutReg_re_next = (i_rstout != 1'b0 ? 23'sb00000000000000000000000 :
              ((validInreg != 1'b0) && (downSampler_count == 9'b000000000) ? integOut_re :
              downSampler_dataOutReg_re));
  assign downSampler_dataOutReg_im_next = (i_rstout != 1'b0 ? 23'sb00000000000000000000000 :
              ((validInreg != 1'b0) && (downSampler_count == 9'b000000000) ? integOut_im :
              downSampler_dataOutReg_im));
  assign downSampler_validOutReg_next = (i_rstout != 1'b0 ? 1'b0 :
              ((validInreg != 1'b0) && (downSampler_count == 9'b000000000) ? 1'b1 :
              1'b0));
  assign downSampler_1 = {3'b0, downSampler_count};
  assign downSampler_count_next = (i_rstout != 1'b0 ? 9'b000000000 :
              (validInreg != 1'b0 ? (downSampler_1 < 12'b000001111111 ? downSampler_count + 9'b000000001 :
              9'b000000000) :
              downSampler_count));
  assign dsOut_re = downSampler_dataOutReg_re;
  assign dsOut_im = downSampler_dataOutReg_im;
  assign ds_vout = downSampler_validOutReg;

endmodule  // dsSection

